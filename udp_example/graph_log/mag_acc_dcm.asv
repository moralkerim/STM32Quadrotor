clc
syms accX accY accZ;
syms magX magY magZ;

acc = [accX accY accZ];
mag = [magX magY magZ];

assume(acc,'real');
assume(mag,'real');

mag_unit = mag./norm(mag);
acc_unit = acc./norm(acc);

D = -acc_unit;
E = cross(D,mag_unit);
E = E./norm(E);
N = cross(E,D);

DCM = [N',E',D'];
%[roll pitch yaw] = dcm2angle(DCM)
DCM = simplify(DCM,'Steps',1000);

DMC11 =
DMC12 =
DMC13 =
DMC21 =
DMC22 =
DMC23 =
DMC31 =
DMC32 =
DMC33